///|
test "Seq from string" {
  let sequence = Seq::from_string("æ²ªA")
  assert_eq(sequence.length(), 2)
  assert_false(sequence.is_empty())
  inspect(sequence.uncons(), content="Some(('æ²ª', 'A'))")
  let (_, sequence) = sequence
    .uncons()
    .unwrap_or_error(Failure::Failure("Shouldn't happen"))
  assert_false(sequence.is_empty())
  inspect(sequence.uncons(), content="Some(('A', ))")
  let (_, sequence) = sequence
    .uncons()
    .unwrap_or_error(Failure::Failure("Shouldn't happen"))
  assert_true(sequence.is_empty())
  let sequence = Seq::from_string("ğŸ€„ï¸")
  assert_eq(sequence.length(), 2)
  inspect(sequence.uncons(), content="Some(('ğŸ€„', '\u{fe0f}'))")
}

///|
test "Seq from array" {
  let sequence = Seq::from_array("æ²ªA".iter().collect()[:])
  assert_eq(sequence.length(), 2)
  assert_false(sequence.is_empty())
  inspect(sequence.uncons(), content="Some(('æ²ª', 'A'))")
  let (_, sequence) = sequence
    .uncons()
    .unwrap_or_error(Failure::Failure("Shouldn't happen"))
  assert_false(sequence.is_empty())
  inspect(sequence.uncons(), content="Some(('A', ))")
  let (_, sequence) = sequence
    .uncons()
    .unwrap_or_error(Failure::Failure("Shouldn't happen"))
  assert_true(sequence.is_empty())
  let sequence = Seq::from_array("ğŸ€„ï¸".iter().collect()[:])
  assert_eq(sequence.length(), 2)
  inspect(sequence.uncons(), content="Some(('ğŸ€„', '\u{fe0f}'))")
}
